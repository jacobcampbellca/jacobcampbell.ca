<!DOCTYPE html>
<html>
<head>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://js.stripe.com/v3/"></script>
    <link rel="stylesheet" href="payment.css"/>
    <link rel="stylesheet" href="style.css" />
    
    <title>shop</title>


</head>




<body>
    
    <div class="scene" style="position:fixed;"></div>
    <script src="three.min.js" ></script>
    <script src="GLTFLoader.js" ></script>

    
    <script src = "background.js"></script>


    <div class="navBarTop"></div>
    <div class="navBarBottom"></div>
    <img class="title" src="photos/logo.png" onclick="location.href = 'index.html'">
    

    <div id="itemContainer">
        <div id="titleContainer">PAYMENT</div>
        <form id="payment-form">
            <div id="payment-element">
            
                    <!--<input type="text" id="nameOnCard" placeholder="name on card">
                        <input type="text" id="cardNumber" placeholder="card number" pattern="^\d{16}$" maxlength="19">
                        <input type="text" id="expiry" placeholder="expiry" onkeydown="dateFormatter()" maxlength="5">
                        <input type="text" id="CCV" placeholder="CCV" maxlength="3" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');">
                        <textarea id="notes" placeholder="notes (optional)"></textarea>-->

            </div>
            <input type='button' id="submit" value="pay now" onclick="handleSubmit()">
              <div class="spinner hidden" id="spinner"></div>
              <span id="button-text"></span>
            </button>
            <div id="payment-message" class="hidden"></div>
          </form>

       
    </div>


    <div id="navDropdown">
        <div id="navDetail1"></div>
        <div id="navDetail2"></div>
        <div id="navDetail3"></div>
    </div>

    <div id="navScreen">
        <div class="shopButton">
            <input type="button" class="shopButton" value="SHOP" onclick="goToShop()" \
            
            style="background-color: #B3210D; border: 4px solid #B3210D; border-radius: 15px"/>
        </div>

        <div class="cartButton">
            <input type="button" class="cartButton" value="CART" onclick="location.href ='cart.html'" \
            
            style="background-color: #B3210D; border: 4px solid #B3210D; border-radius: 15px"/>
        </div>

        <div class="homeButton">
            <input type="button" class="homeButton" value="HOME" onclick="location.href ='index.html'" \
            
            style="background-color: #B3210D; border: 4px solid #B3210D; border-radius: 15px"/>
        </div>

        <div class="contactMeButton">
            <input type="button" class="contactMeButton" value="CONTACT ME" onclick="location.href ='contactMe.html'" \
            
            style="background-color: #B3210D; border: 4px solid #B3210D; border-radius: 15px"/>
        </div>


    </div>


    </div>

    
    <script src="https://js.braintreegateway.com/web/3.87.0/js/client.min.js"></script>
    <script src="https://js.braintreegateway.com/web/3.87.0/js/payment-request.min.js"></script>

    <script src="payment.js" defer></script>

    <!--<script>
        function purchase() {  
    
            var name, number, expiry, ccv, notes;
            name = document.getElementById("nameOnCard").value;
            number = document.getElementById("cardNumber").value;
            expiry = document.getElementById("expiry").value;
            ccv = document.getElementById("CCV").value;
            notes = document.getElementById("notes").value;

            var nameComplete = true;
            if(name != "") {
                document.getElementById("nameOnCard").style = "background-color: #ffffff"
                nameComplete = true;
            }
            else {
                document.getElementById("nameOnCard").style = "background-color: #ffcccd"
                nameComplete = false;
            }

            var numberComplete = true;
            if(number != "") {
                document.getElementById("cardNumber").style = "background-color: #ffffff"
                numberComplete = true;
            }
            else {
                document.getElementById("cardNumber").style = "background-color: #ffcccd"
                numberComplete = false;
            }

            var expiryComplete = true;
            if(expiry != "") {
                document.getElementById("expiry").style = "background-color: #ffffff"
                expiryComplete = true;
            }
            else {
                document.getElementById("expiry").style = "background-color: #ffcccd"
                expiryComplete = false;
            }

            var ccvComplete = true;
            if(ccv != "") {
                document.getElementById("CCV").style = "background-color: #ffffff"
                ccvComplete = true;
            }
            else {
                document.getElementById("CCV").style = "background-color: #ffcccd"
                ccvComplete = false;
            }
            
            if(nameComplete && numberComplete && expiryComplete && ccvComplete) {
                $(document).ready(function() {
                    var cartToSend = window.sessionStorage.getItem('array');
                    console.log(cartToSend)
                    var mailingInformation = window.sessionStorage.getItem('info');
                    var postData = {
                        cart: cartToSend,
                        info: mailingInformation
                    }
                    $.ajax({
                        type: "POST",
                        url: "http://127.0.0.1:6969/myapi",
                        contentType: 'application/json',
                        data: JSON.stringify(postData),
                        success: function(response) {
                            var keyInformation = JSON.parse(response)
                            console.log(keyInformation) 
                        }
                    });
                });

                
            }
        }
    </script>-->

    <!--<div class="musicButton">
        <input type="button" class="button" value="music" onclick="location.href ='music.html'" />
    </div>

    <div class="mediaButton">s
        <input type="button" class="button" value="media" onclick="location.href ='media.html'" />
    </div>

    <div class="thoughtsButton">
        <input type="button" class="button" value="thoughts" onclick="location.href ='thoughts.html'" />
    </div>

    <img class="cart" src=""
         width="60" height="60" />

    <center>

        <div class="firstWindow">
            <img class="ferrari" src=""
                 height="400" width="450"/>
            <input type="button" class="addToCart" value="add to cart" onclick="" />
        </div>

        <div class="secondWindow">
            <img class="yacht" src=""
                 height="400" width="450"/>
            <input type="button" class="addToCart" value="add to cart" onclick="" />
        </div>
        

    </center>

    <div class="footer">
        <div class="top"></div>
        <div class="bottom"></div>
        <center><p>jacobcampbell.ca Â©</p></center>
    </div>
    -->

    <script>
        function goToShop() {
          var thisLocation = location.hostname
          $(document).ready(function() {
            $.ajax({
              type: "GET",
              url: "http://"+thisLocation+":8000/shop",
              success: function(response) {
                location.href = 'http://'+thisLocation+':8000/shop';
              },
              error: function(jqXHR, textStatus, errorThrown) {
                 console.log(errorThrown)
              },
          })
  
        });
        }
        
  
      </script>



</body>
</html>
